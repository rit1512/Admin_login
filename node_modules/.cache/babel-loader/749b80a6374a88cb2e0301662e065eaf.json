{"ast":null,"code":"import _defineProperty from \"/home/apsit/Desktop/distributionManagementSystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/apsit/Desktop/distributionManagementSystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/apsit/Desktop/distributionManagementSystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/apsit/Desktop/distributionManagementSystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/apsit/Desktop/distributionManagementSystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/apsit/Desktop/distributionManagementSystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/apsit/Desktop/distributionManagementSystem/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/apsit/Desktop/distributionManagementSystem/client/src/components/Login/AddLogin.js\";\nimport React, { Component } from 'react';\nimport './Login.css';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport { API_URL } from '../../services/url';\nimport authService from '../../services/auth-service';\nimport axiosService from '../../services/axios-service';\n\nvar AddLogin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddLogin, _Component);\n\n  function AddLogin(props) {\n    var _this;\n\n    _classCallCheck(this, AddLogin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddLogin).call(this, props));\n\n    _this.change = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        email: \"\",\n        password: \"\"\n      });\n\n      console.log(_this.state);\n      axios.post(\"\".concat(API_URL, \"user_api/login/\"), _this.state) //   .then(console.log(this.state));\n      .then(function (response) {\n        console.log(\"addLogin --> \" + response.data);\n        console.log(response.data);\n        var tokentext = response.data.token;\n        console.log(tokentext);\n        localStorage.setItem('tokenKey', tokentext); //console.log(tokentext)\n\n        if (response.data.success) {\n          // this.props.onRouteChange('home');\n          window.location.reload('home'); // return <Redirect to={{pathname: '/'}} />\n        }\n\n        console.log('authservice gettoke');\n        alert(response.data.msg); //console.log(authService.getToken())\n      }.bind(_assertThisInitialized(_this))).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      redirect: false,\n      tokentext: \"\",\n      tokenlength: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(AddLogin, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var onRouteChange = this.props.onRouteChange;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"my-login-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        class: \"h-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"container h-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"row justify-content-md-center h-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card fat custom-card-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        class: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"form\", {\n        method: \"POST\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Enter Email\"), React.createElement(\"input\", {\n        id: \"email\",\n        type: \"text\",\n        class: \"form-control\",\n        name: \"email\",\n        value: this.state.email,\n        onChange: function onChange(e) {\n          return _this2.change(e);\n        },\n        required: true,\n        autofocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        id: \"password\",\n        type: \"password\",\n        class: \"form-control\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: function onChange(e) {\n          return _this2.change(e);\n        },\n        required: true,\n        \"data-eye\": true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group no-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        class: \"btn btn-primary btn-block\",\n        onClick: function onClick(e) {\n          return _this2.onSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Login\")))))))))));\n    }\n  }]);\n\n  return AddLogin;\n}(Component);\n\nexport default AddLogin;","map":{"version":3,"sources":["/home/apsit/Desktop/distributionManagementSystem/client/src/components/Login/AddLogin.js"],"names":["React","Component","Link","Redirect","axios","API_URL","authService","axiosService","AddLogin","props","change","e","setState","target","name","value","onSubmit","preventDefault","email","password","console","log","state","post","then","response","data","tokentext","token","localStorage","setItem","success","window","location","reload","alert","msg","bind","catch","error","redirect","tokenlength","onRouteChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './Login.css';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport axios from 'axios'\r\nimport { API_URL } from '../../services/url';\r\nimport authService from '../../services/auth-service';\r\nimport axiosService from '../../services/axios-service';\r\n\r\nclass AddLogin extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\",\r\n\t\t\tredirect: false,\r\n\t\t\ttokentext: \"\",\r\n\t\t\ttokenlength: \"\"\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tchange = e => {\r\n\t\tthis.setState({\r\n\t\t\t[e.target.name]: e.target.value,\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tonSubmit = e => {\r\n\r\n\t\te.preventDefault();\r\n\t\tthis.setState({\r\n\t\t\temail: \"\",\r\n\t\t\tpassword: \"\"\r\n\t\t})\r\n\t\tconsole.log(this.state);\r\n\r\n\r\n\t\taxios.post(`${API_URL}user_api/login/`, this.state)\r\n\t\t\t//   .then(console.log(this.state));\r\n\t\t\t.then(function (response) {\r\n\t\t\t\tconsole.log(\"addLogin --> \" + response.data);\r\n\t\t\t\tconsole.log(response.data)\r\n\t\t\t\tconst tokentext = response.data.token;\r\n\t\t\t\tconsole.log(tokentext)\r\n\t\t\t\tlocalStorage.setItem('tokenKey', tokentext);\r\n\t\t\t\t//console.log(tokentext)\r\n\t\t\t\tif (response.data.success) {\r\n\t\t\t\t\t// this.props.onRouteChange('home');\r\n\t\t\t\t\twindow.location.reload('home')\r\n\t\t\t\t\t// return <Redirect to={{pathname: '/'}} />\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('authservice gettoke')\r\n\t\t\t\talert(response.data.msg)\r\n\t\t\t\t//console.log(authService.getToken())\r\n\t\t\t}.bind(this))\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t})\r\n\r\n\r\n\t}\r\n\trender() {\r\n\t\tconst onRouteChange = this.props.onRouteChange;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"my-login-page\">\r\n\t\t\t\t\t<section class=\"h-100\">\r\n\t\t\t\t\t\t<div class=\"container h-100\">\r\n\t\t\t\t\t\t\t<div class=\"row justify-content-md-center h-100\">\r\n\t\t\t\t\t\t\t\t<div class=\"card-wrapper\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"card fat custom-card-margin\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h4 class=\"card-title\">Login</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t<form method=\"POST\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"email\">Enter Email</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input id=\"email\" type=\"text\" class=\"form-control\" name=\"email\" value={this.state.email} onChange={e => this.change(e)} required autofocus />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label for=\"password\">Password\r\n\t\t\t\t\t\t\t\t\t\t{/*<a href=\"forgot.html\" class=\"float-right\">\r\n\t\t\t\t\t\t\t\t\t\t\tForgot Password?\r\n\t\t\t\t\t\t\t\t\t\t</a>*/}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input id=\"password\" type=\"password\" class=\"form-control\" name=\"password\" value={this.state.password} onChange={e => this.change(e)} required data-eye />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"user_remember\" value={this.state.user_remember} onchange={e => this.change(e)}/> Remember Me\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>*/}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"form-group no-margin\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-primary btn-block\" onClick={e => this.onSubmit(e)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*<div class=\"margin-top20 text-center\">\r\n\t\t\t\t\t\t\t\t\tDon't have an account? <p onClick={() => onRouteChange('register')}>Register</p>\r\n\t\t\t\t\t\t\t\t</div>*/}\r\n\t\t\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AddLogin;"]},"metadata":{},"sourceType":"module"}